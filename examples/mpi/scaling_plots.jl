using Plots

threads = [32, 64, 128, 256]

# n2_100k = [3.1540510654449463, 2.9544689655303955, 3.976494789123535, 4.019366979598999]
# n4_100k = [2.9284520149230957, 2.8642098903656006, 3.396040201187134, 3.907201051712036]
# n8_100k = [2.8360190391540527, 2.814426898956299, 3.7818939685821533, 3.8674139976501465]
# n16_100k = [2.877640962600708, 2.836548089981079, 3.3386030197143555, 4.1602020263671875]
# n32_100k = [2.9536869525909424, 3.1786229610443115, 3.973673105239868, 3.831165075302124]

# # undef was 58.003605127334595
# n2_200k = [NaN, 3.096147060394287, 3.6735999584198, 4.08241605758667]
# n4_200k = [3.224229097366333, 2.9790329933166504, 3.459972858428955, 3.8737339973449707]
# n8_200k = [2.913079023361206, 2.8580141067504883, 3.3868350982666016, 3.807229995727539]
# n16_200k = [2.9674999713897705, 2.8917369842529297, 3.900191068649292, 3.9239768981933594]
# n32_200k = [2.922312021255493, 2.9081051349639893, 3.365617036819458, 3.7916769981384277]

n2_100k_local_work = [2.2434370517730713, 2.2717459201812744, 2.394063949584961, 2.376012086868286]
n4_100k_local_work = [2.544693946838379, 2.551508903503418, 2.7010128498077393, 2.570918083190918]
n8_100k_local_work = [3.8339920043945312, 3.8162360191345215, 4.066386938095093, 4.288684129714966]

n2_100k_work_array = [2.3870041370391846, 2.432455062866211, 2.3610990047454834, 2.398801803588867]
n4_100k_work_array = [2.5696849822998047, 2.6017680168151855, 2.8834068775177, 2.7176730632781982]
n8_100k_work_array = [3.9740920066833496, 4.187608957290649, 4.045736074447632, 4.10685396194458]

p1 = plot(threads, n2_100k_local_work / 2, label="n=2", xlabel="Threads", ylabel="Time per node (s)", title="Local Work Variable, 100k Particles", legend=:topleft)
plot!(threads, n4_100k_local_work / 4, label="n=4")
plot!(threads, n8_100k_local_work / 8, label="n=8")

p2 = plot(threads, n2_100k_work_array / 2, label="n=2", xlabel="Threads", ylabel="Time per node (s)", title="Old Work Array, 100k Particles", legend=:topleft)
plot!(threads, n4_100k_work_array / 4, label="n=4")
plot!(threads, n8_100k_work_array / 8, label="n=8")

plot(p1, p2, layout=(1,2), size=(1000, 500), margin=10Plots.mm)